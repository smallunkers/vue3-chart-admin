type AllDataItem = {
  name: string | string[];
  data: DataListItem;
  type: string;
  key: string;
  xName: string;
  ySeriesName?: string;
  xSeriesName: string;
};

type DataListItem = {
  x?: number[];
  y?: any;
  y1?: number[];
  y2?: number[];
};
type DataList = Record<string, DataListItem>;
const allData: AllDataItem[] = [
  {
    name: "ROC",
    data: {},
    type: "area",
    key: "roc",
    xName: "fpr",
    ySeriesName: "TPR/Sensitivity",
    xSeriesName: "FPR/1-Specificity",
  },
  {
    name: "KS",
    data: {},
    type: "line",
    key: "ks",
    xName: "ks",
    xSeriesName: "",
  },
  {
    name: "Lift",
    data: {},
    type: "line",
    key: "lift",
    xName: "lift",
    xSeriesName: "",
  },
  {
    name: "Gain",
    data: {},
    type: "line",
    key: "gain",
    xName: "threshold",
    xSeriesName: "",
  },
  {
    name: "precision-recall",
    data: {},
    type: "line",
    key: "pr",
    xName: "recall",
    xSeriesName: "",
  },
];

const data = {
  success: true,
  message: null,
  code: "0",
  content: {
    field: [
      { index: "AUC", value: "0.70213704987" },
      { index: "F1 Score", value: "0.341827364555" },
      { index: "KS", value: "0.38468666188" },
      { index: "Total Samples", value: "30000" },
      { index: "Positive Samples", value: "6636" },
      { index: "Negative Samples", value: "23364" },
    ],
    dataList: {
      pr: {
        x: [
          0.003616636528028933,
          0.005575647980711272,
          0.013411693791440627,
          0.015069318866787222,
          0.020644966847498492,
          0.04505726341169379,
          0.04822182037371911,
          0.053496081977094635,
          0.05515370705244123,
          0.06268836648583484,
          0.06841470765521399,
          0.1963532248342375,
          0.2243821579264617,
          0.22875226039783003,
          0.23071127185051235,
          0.23131404460518384,
          0.31962025316455694,
          0.3244424352019289,
          0.32775768535262206,
          0.3295660036166365,
          0.3378541289933695,
          0.39572031344183245,
          0.40039180229053645,
          0.44273658830620854,
          0.445750452079566,
          0.4484629294755877,
          0.45072332730560577,
          0.4513261000602773,
          0.46458710066305003,
          0.4665461121157324,
          0.4734779987944545,
          0.5100964436407475,
          0.555455093429777,
          0.55666063893912,
          0.7839059674502713,
          0.7864677516576251,
          0.7902350813743219,
          0.7959614225437011,
          0.8036467751657626,
          0.8092224231464737,
          0.8134418324291742,
          0.8169077757685352,
          0.8271549125979506,
          0.8371006630500302,
          0.8477998794454491,
          0.8520192887281495,
          0.8536769138034961,
          0.9356540084388185,
          0.9452983725135624,
          0.9460518384569018,
          0.9465039180229053,
          0.948161543098252,
          0.95042194092827,
          1.0,
        ],
        y: [
          0.6153846153846154,
          0.5692307692307692,
          0.6312056737588653,
          0.6410256410256411,
          0.6782178217821783,
          0.7419354838709677,
          0.7476635514018691,
          0.7215447154471545,
          0.71484375,
          0.7147766323024055,
          0.7027863777089783,
          0.7226844148641154,
          0.7172447013487476,
          0.7136812411847673,
          0.7111007895959127,
          0.7093345656192237,
          0.7032493368700266,
          0.701074568544448,
          0.7002575660012879,
          0.7002881844380403,
          0.6964895930413172,
          0.6509667823500248,
          0.6441212121212121,
          0.5998366680277665,
          0.594692400482509,
          0.5900079302141158,
          0.5807766990291262,
          0.5802014722975591,
          0.5503391645840772,
          0.550008882572393,
          0.5348995573714674,
          0.5041703902293715,
          0.4792614744506566,
          0.47899377593361,
          0.25448852795851473,
          0.25383006663100044,
          0.2544642857142857,
          0.2511172387562993,
          0.25182981536572696,
          0.24960490843171887,
          0.24814968050383854,
          0.24865831842576028,
          0.24897940669509208,
          0.24964048175444903,
          0.24734019168205398,
          0.24545257217278055,
          0.24477186311787072,
          0.23132521143027457,
          0.23026098447307566,
          0.2301994719859196,
          0.2298375292740047,
          0.22927522501184272,
          0.22852277256422335,
          0.2212,
        ],
      },
      roc: {
        x: [
          0.0,
          0.0006420133538777606,
          0.0011984249272384865,
          0.0022256462934429036,
          0.002396849854476973,
          0.0027820578668036294,
          0.004451292586885807,
          0.004622496147919877,
          0.005863721965416881,
          0.0062489299777435375,
          0.007104947782913884,
          0.008217770929635337,
          0.021400445129258688,
          0.0251241225817497,
          0.026065742167437084,
          0.026622153740797808,
          0.02692175997260743,
          0.038306796781373054,
          0.039291217257318954,
          0.03984762883067968,
          0.040061633281972264,
          0.041816469782571475,
          0.060263653483992465,
          0.06283170689950351,
          0.08388974490669406,
          0.08628659476117104,
          0.08851224105461393,
          0.09240712206813902,
          0.09274952919020715,
          0.10781544256120527,
          0.10841465502482452,
          0.11693203218626948,
          0.14248416367060435,
          0.1714175654853621,
          0.17197397705872283,
          0.6522427666495463,
          0.6566512583461735,
          0.6575928779318609,
          0.6741996233521658,
          0.6781373052559493,
          0.6909775723335045,
          0.7000085601780517,
          0.7010785824345146,
          0.7086543400102722,
          0.7146464646464646,
          0.7327512412258175,
          0.7439222735832905,
          0.7481167608286252,
          0.8830679678137305,
          0.8975346687211094,
          0.8985618900873138,
          0.9008303372710152,
          0.9052816298579011,
          0.911316555384352,
          1.0,
        ],
        y: [
          0.0,
          0.003616636528028933,
          0.005575647980711272,
          0.013411693791440627,
          0.015069318866787222,
          0.020644966847498492,
          0.04505726341169379,
          0.04822182037371911,
          0.053496081977094635,
          0.05515370705244123,
          0.06268836648583484,
          0.06841470765521399,
          0.1963532248342375,
          0.2243821579264617,
          0.22875226039783003,
          0.23071127185051235,
          0.23131404460518384,
          0.31962025316455694,
          0.3244424352019289,
          0.32775768535262206,
          0.3295660036166365,
          0.3378541289933695,
          0.39572031344183245,
          0.40039180229053645,
          0.44273658830620854,
          0.445750452079566,
          0.4484629294755877,
          0.45072332730560577,
          0.4513261000602773,
          0.46458710066305003,
          0.4665461121157324,
          0.4734779987944545,
          0.5100964436407475,
          0.555455093429777,
          0.55666063893912,
          0.7839059674502713,
          0.7864677516576251,
          0.7902350813743219,
          0.7959614225437011,
          0.8036467751657626,
          0.8092224231464737,
          0.8134418324291742,
          0.8169077757685352,
          0.8271549125979506,
          0.8371006630500302,
          0.8477998794454491,
          0.8520192887281495,
          0.8536769138034961,
          0.9356540084388185,
          0.9452983725135624,
          0.9460518384569018,
          0.9465039180229053,
          0.948161543098252,
          0.95042194092827,
          1.0,
        ],
      },
      ks: {
        y1: [
          0.0,
          0.0006420133538777606,
          0.0011984249272384865,
          0.0022256462934429036,
          0.002396849854476973,
          0.0027820578668036294,
          0.004451292586885807,
          0.004622496147919877,
          0.005863721965416881,
          0.0062489299777435375,
          0.007104947782913884,
          0.008217770929635337,
          0.021400445129258688,
          0.0251241225817497,
          0.026065742167437084,
          0.026622153740797808,
          0.02692175997260743,
          0.038306796781373054,
          0.039291217257318954,
          0.03984762883067968,
          0.040061633281972264,
          0.041816469782571475,
          0.060263653483992465,
          0.06283170689950351,
          0.08388974490669406,
          0.08628659476117104,
          0.08851224105461393,
          0.09240712206813902,
          0.09274952919020715,
          0.10781544256120527,
          0.10841465502482452,
          0.11693203218626948,
          0.14248416367060435,
          0.1714175654853621,
          0.17197397705872283,
          0.6522427666495463,
          0.6566512583461735,
          0.6575928779318609,
          0.6741996233521658,
          0.6781373052559493,
          0.6909775723335045,
          0.7000085601780517,
          0.7010785824345146,
          0.7086543400102722,
          0.7146464646464646,
          0.7327512412258175,
          0.7439222735832905,
          0.7481167608286252,
          0.8830679678137305,
          0.8975346687211094,
          0.8985618900873138,
          0.9008303372710152,
          0.9052816298579011,
          0.911316555384352,
          1.0,
        ],
        x: [
          0.0,
          0.001,
          0.002,
          0.003,
          0.004,
          0.005,
          0.006,
          0.007,
          0.008,
          0.009,
          0.01,
          0.011,
          0.012,
          0.013,
          0.014,
          0.015,
          0.016,
          0.017,
          0.018,
          0.019,
          0.02,
          0.021,
          0.022,
          0.023,
          0.024,
          0.025,
          0.026,
          0.027,
          0.028,
          0.029,
          0.03,
          0.031,
          0.032,
          0.033,
          0.034,
          0.035,
          0.036,
          0.037,
          0.038,
          0.039,
          0.04,
          0.041,
          0.042,
          0.043,
          0.044,
          0.045,
          0.046,
          0.047,
          0.048,
          0.049,
          0.05,
          0.051,
          0.052,
          0.053,
          0.054,
        ],
        y2: [
          0.0,
          0.003616636528028933,
          0.005575647980711272,
          0.013411693791440627,
          0.015069318866787222,
          0.020644966847498492,
          0.04505726341169379,
          0.04822182037371911,
          0.053496081977094635,
          0.05515370705244123,
          0.06268836648583484,
          0.06841470765521399,
          0.1963532248342375,
          0.2243821579264617,
          0.22875226039783003,
          0.23071127185051235,
          0.23131404460518384,
          0.31962025316455694,
          0.3244424352019289,
          0.32775768535262206,
          0.3295660036166365,
          0.3378541289933695,
          0.39572031344183245,
          0.40039180229053645,
          0.44273658830620854,
          0.445750452079566,
          0.4484629294755877,
          0.45072332730560577,
          0.4513261000602773,
          0.46458710066305003,
          0.4665461121157324,
          0.4734779987944545,
          0.5100964436407475,
          0.555455093429777,
          0.55666063893912,
          0.7839059674502713,
          0.7864677516576251,
          0.7902350813743219,
          0.7959614225437011,
          0.8036467751657626,
          0.8092224231464737,
          0.8134418324291742,
          0.8169077757685352,
          0.8271549125979506,
          0.8371006630500302,
          0.8477998794454491,
          0.8520192887281495,
          0.8536769138034961,
          0.9356540084388185,
          0.9452983725135624,
          0.9460518384569018,
          0.9465039180229053,
          0.948161543098252,
          0.95042194092827,
          1.0,
        ],
      },
      lift: {
        x: [
          0.001,
          0.002,
          0.003,
          0.004,
          0.005,
          0.006,
          0.007,
          0.008,
          0.009,
          0.01,
          0.011,
          0.012,
          0.013,
          0.014,
          0.015,
          0.016,
          0.017,
          0.018,
          0.019,
          0.02,
          0.021,
          0.022,
          0.023,
          0.024,
          0.025,
          0.026,
          0.027,
          0.028,
          0.029,
          0.03,
          0.031,
          0.032,
          0.033,
          0.034,
          0.035,
          0.036,
          0.037,
          0.038,
          0.039,
          0.04,
          0.041,
          0.042,
          0.043,
          0.044,
          0.045,
          0.046,
          0.047,
          0.048,
          0.049,
          0.05,
          0.051,
          0.052,
          0.053,
          0.054,
        ],
        y: [
          769.2307692307692,
          461.5384615384615,
          212.76595744680853,
          192.30769230769235,
          148.5148514851485,
          74.44168734491316,
          70.09345794392523,
          60.97560975609756,
          58.59375,
          51.54639175257732,
          46.43962848297214,
          16.638935108153078,
          14.450867052023122,
          14.104372355430183,
          13.934045517882026,
          13.863216266173753,
          9.946949602122016,
          9.76880494952784,
          9.658725048293626,
          9.606147934678194,
          9.319664492078285,
          7.436787307882995,
          7.2727272727272725,
          6.124948958758677,
          6.031363088057901,
          5.947660586835845,
          5.825242718446601,
          5.811700891127471,
          5.355230274901821,
          5.329543435779002,
          5.107252298263534,
          4.468275245755139,
          3.900663112729164,
          3.890041493775934,
          1.4676385695416074,
          1.459073002285881,
          1.4557453416149067,
          1.4262622420842446,
          1.4166312508853947,
          1.3944408292274797,
          1.3791201213625706,
          1.3760836658868858,
          1.3607910732105597,
          1.3481934208161064,
          1.3189132155104195,
          1.302365964836119,
          1.2962322848254408,
          1.1176930814798256,
          1.1012003083360864,
          1.1000293341155765,
          1.0977751756440282,
          1.0931749444302736,
          1.0869959056487553,
          1.0,
        ],
      },
      gain: {
        x: [
          0.001,
          0.002,
          0.003,
          0.004,
          0.005,
          0.006,
          0.007,
          0.008,
          0.009,
          0.01,
          0.011,
          0.012,
          0.013,
          0.014,
          0.015,
          0.016,
          0.017,
          0.018,
          0.019,
          0.02,
          0.021,
          0.022,
          0.023,
          0.024,
          0.025,
          0.026,
          0.027,
          0.028,
          0.029,
          0.03,
          0.031,
          0.032,
          0.033,
          0.034,
          0.035,
          0.036,
          0.037,
          0.038,
          0.039,
          0.04,
          0.041,
          0.042,
          0.043,
          0.044,
          0.045,
          0.046,
          0.047,
          0.048,
          0.049,
          0.05,
          0.051,
          0.052,
          0.053,
          0.054,
        ],
        y: [
          0.2212,
          0.22852277256422335,
          0.22927522501184272,
          0.2298375292740047,
          0.2301994719859196,
          0.23026098447307566,
          0.23132521143027457,
          0.24477186311787072,
          0.24545257217278055,
          0.24734019168205398,
          0.24814968050383854,
          0.24865831842576028,
          0.24897940669509208,
          0.24960490843171887,
          0.24964048175444903,
          0.2511172387562993,
          0.25182981536572696,
          0.25383006663100044,
          0.2544642857142857,
          0.25448852795851473,
          0.47899377593361,
          0.4792614744506566,
          0.5041703902293715,
          0.5348995573714674,
          0.550008882572393,
          0.5503391645840772,
          0.5692307692307692,
          0.5802014722975591,
          0.5807766990291262,
          0.5900079302141158,
          0.594692400482509,
          0.5998366680277665,
          0.6153846153846154,
          0.6312056737588653,
          0.6410256410256411,
          0.6441212121212121,
          0.6509667823500248,
          0.6782178217821783,
          0.6964895930413172,
          0.7002575660012879,
          0.7002881844380403,
          0.701074568544448,
          0.7027863777089783,
          0.7032493368700266,
          0.7093345656192237,
          0.7111007895959127,
          0.7136812411847673,
          0.7147766323024055,
          0.71484375,
          0.7172447013487476,
          0.7215447154471545,
          0.7226844148641154,
          0.7419354838709677,
          0.7476635514018691,
        ],
      },
    },
  },
};

const color = ["#108ee9", "#00FF66"];
const yNameMap: Record<string, string | string[]> = {
  roc: "sensitivity/fpr",
  ks: ["cumulative negative dist", "cumulative positive dist"],
  lift: "lift",
  gain: "gain",
  pr: "precision",
};

export function dataFormat() {
  const dataList: DataList = data.content.dataList;
  allData.forEach((item: AllDataItem) => {
    item.data.x = dataList[item.key].x;
    const keyNum = Object.keys(dataList[item.key]).length;
    if (keyNum === 2) {
      item.data.y = [
        {
          data: dataList[item.key].y,
          color: color[0],
          name: yNameMap[item.key] as string,
        },
      ];
    } else {
      item.data.y = [];
      for (let i = 1; i < keyNum; i++) {
        item.data.y.push({
          data: (dataList[item.key] as any)[`y${i}`],
          color: color[i - 1],
          name: yNameMap[item.key][i - 1],
        });
      }
    }
  });
  return allData;
}
